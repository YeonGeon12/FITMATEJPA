<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'FITMATE | ' + ${exerciseDetail.translatedName}"></title>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/dictionary/exerciseDetail.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
<div class="wrapper">
    <header class="main-header" th:replace="~{index :: .main-header}"></header>

    <main class="detail-main-content">
        <div class="detail-container" th:if="${exerciseDetail}">
            <div class="title-box">
                <h1 th:text="${exerciseDetail.translatedName} + ' (' + ${exerciseDetail.original.name} + ')'"></h1>
                <div class="title-tags">
                    <span th:text="'#' + ${exerciseDetail.original.muscle}">#하체</span>
                    <span th:text="'#' + ${exerciseDetail.original.difficulty}">#초급</span>
                </div>
            </div>

            <div class="tab-nav">
                <button class="tab-btn active" data-tab="info">기본 정보 & 자세</button>
                <button class="tab-btn" data-tab="video">참고 영상</button>
            </div>

            <div id="info" class="tab-content active">
                <div class="info-section">
                    <h3><i class="fa-solid fa-circle-info"></i> 운동 방법</h3>
                    <p th:text="${exerciseDetail.translatedInstructions}"></p>
                </div>
                <div class="info-section">
                    <h3><i class="fa-solid fa-triangle-exclamation"></i> 주의 사항</h3>
                    <p>정확한 자세를 유지하여 부상을 예방하세요. 전문가의 지도를 받는 것을 권장합니다.</p>
                </div>
                <div class="back-link-container">
                    <a th:href="@{/dictionary/search}" class="back-link">
                        <i class="fa-solid fa-list"></i> 목록으로 돌아가기
                    </a>
                </div>
            </div>

            <div id="video" class="tab-content">
                <div class="video-grid" th:if="${youtube != null and not #lists.isEmpty(youtube.items)}">
                    <div th:each="item : ${youtube.items}" class="video-card">
                        <a th:href="@{'https://www.youtube.com/watch?v=' + ${item.id.videoId}}" target="_blank">
                            <img th:src="${item.snippet.thumbnails.high.url}" alt="YouTube Thumbnail">
                            <h4 th:text="${item.snippet.title}">영상 제목</h4>
                        </a>
                    </div>
                </div>
                <div th:if="${youtube == null or #lists.isEmpty(youtube.items)}" class="no-video">
                    <p>관련 영상을 찾을 수 없습니다.</p>
                </div>
            </div>
        </div>
        <div th:if="${error}" class="error-container" th:text="${error}"></div>
    </main>
</div>
<script src="/js/header.js"></script>
<script src="/js/dictionary.js"></script>
</body>
</html>